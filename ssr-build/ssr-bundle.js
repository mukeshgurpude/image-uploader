module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s="QfWi")}({"0bRK":function(e,t,n){"use strict";t.a={outer:"outer__mFZEY",inner:"inner__MBM5r",traverse:"traverse__RroJw"}},"5f5u":function(e,t){var n="undefined"!=typeof self?self:this,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,o="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),i="FormData"in e,a="ArrayBuffer"in e;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function h(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function d(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function v(e){var t=new FileReader,n=p(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&o&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var e,t,n,r=d(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=p(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=u(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},f.prototype.delete=function(e){delete this.map[u(e)]},f.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},f.prototype.set=function(e,t){this.map[u(e)]=l(t)},f.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},f.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),h(e)},f.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),h(e)},f.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),h(e)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(e,t){var n,r,o=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),m.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function _(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function w(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},b.call(g.prototype),b.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];w.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function O(e,n){return new Promise((function(r,i){var a=new g(e,n);if(a.signal&&a.signal.aborted)return i(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function c(){s.abort()}s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new f,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var o="response"in s?s.response:s.responseText;r(new w(o,n))},s.onerror=function(){i(new TypeError("Network request failed"))},s.ontimeout=function(){i(new TypeError("Network request failed"))},s.onabort=function(){i(new t.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&o&&(s.responseType="blob"),a.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",c),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",c)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}O.polyfill=!0,e.fetch||(e.fetch=O,e.Headers=f,e.Request=g,e.Response=w),t.Headers=f,t.Request=g,t.Response=w,t.fetch=O,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var o=r;(t=o.fetch).default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t},"5pfs":function(e,t,n){"use strict";t.a={checkmark:"checkmark__DW+Zk",img:"img__xrfRn",copy_box:"copy_box__GGwpA",button:"button__Di9dm",copied:"copied__XRZgO"}},"7x+o":function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=function(){if("object"===("undefined"==typeof self?"undefined":n(self))&&self)return self;if("object"===("undefined"==typeof window?"undefined":n(window))&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;if("object"===("undefined"==typeof globalThis?"undefined":n(globalThis))&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return r()}try{return __global__||r()}finally{delete Object.prototype.__global__}}()},AGXD:function(e,t,n){e.exports=n("SVG2").version},CenE:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var r=n("HteQ"),o=n("keB9"),i=["children"];function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function s(t){var n=t.children,s=a(t,i),c=Object(r.cloneElement)(n,s);return e("div",{className:o.a.card,children:c})}}).call(this,n("HteQ").h)},DIYs:function(e,t,n){"use strict";n.d(t,"b",(function(){return rn})),n.d(t,"a",(function(){return an}));var r={};n.r(r),n.d(r,"PostgresTypes",(function(){return Ae})),n.d(r,"convertChangeData",(function(){return Be})),n.d(r,"convertColumn",(function(){return He})),n.d(r,"convertCell",(function(){return Me})),n.d(r,"toBoolean",(function(){return Le})),n.d(r,"toNumber",(function(){return Ge})),n.d(r,"toJson",(function(){return Je})),n.d(r,"toArray",(function(){return qe})),n.d(r,"toTimestampString",(function(){return ze}));var o={"X-Client-Info":"supabase-js/".concat("1.29.4")};var i=n("5f5u"),a=n.n(i);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},u=function(e){return e.msg||e.message||e.error_description||e.error||JSON.stringify(e)},l=function(e,t){if("function"!=typeof e.json)return t(e);e.json().then((function(n){return t({message:u(n),status:(null==e?void 0:e.status)||500})}))},h=function(e,t,n){var r={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e||(r.headers=s({"Content-Type":"text/plain;charset=UTF-8"},null==t?void 0:t.headers),r.body=JSON.stringify(n)),r};function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.a,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return c(this,void 0,void 0,(function*(){return new Promise((function(i,a){e(n,h(t,r,o)).then((function(e){if(!e.ok)throw e;return(null==r?void 0:r.noResolveJson)?i:e.json()})).then((function(e){return i(e)})).catch((function(e){return l(e,a)}))}))}))}function d(e,t,n){return c(this,void 0,void 0,(function*(){return f(e,"GET",t,n)}))}function p(e,t,n,r){return c(this,void 0,void 0,(function*(){return f(e,"POST",t,r,n)}))}function v(e,t,n,r){return c(this,void 0,void 0,(function*(){return f(e,"PUT",t,r,n)}))}var y={"X-Client-Info":"gotrue-js/".concat("1.22.0")},b={name:"sb:token",lifetime:28800,domain:"",path:"/",sameSite:"lax"};function m(e,t){var n,r,o;return function(e,t,n){var r=n||{},o=encodeURIComponent,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;if("function"!=typeof o)throw new TypeError("option encode is invalid");if(!i.test(e))throw new TypeError("argument name is invalid");var a=o(t);if(a&&!i.test(a))throw new TypeError("argument val is invalid");var s=e+"="+a;if(null!=r.maxAge){var c=r.maxAge-0;if(isNaN(c)||!isFinite(c))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(c)}if(r.domain){if(!i.test(r.domain))throw new TypeError("option domain is invalid");s+="; Domain="+r.domain}if(r.path){if(!i.test(r.path))throw new TypeError("option path is invalid");s+="; Path="+r.path}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");s+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s}(e.name,e.value,{maxAge:e.maxAge,expires:new Date(Date.now()+1e3*e.maxAge),httpOnly:!0,secure:t,path:null!==(n=e.path)&&void 0!==n?n:"/",domain:null!==(r=e.domain)&&void 0!==r?r:"",sameSite:null!==(o=e.sameSite)&&void 0!==o?o:"lax"})}function g(e,t,n){var r=n.map((function(t){return m(t,function(e){if(!e||!e.headers||!e.headers.host)throw new Error('The "host" request header is not available');var t=e.headers.host.indexOf(":")>-1&&e.headers.host.split(":")[0]||e.headers.host;return!(["localhost","127.0.0.1"].indexOf(t)>-1||t.endsWith(".local"))}(e))})),o=t.getHeader("Set-Cookie");o&&(o instanceof Array?Array.prototype.push.apply(r,o):"string"==typeof o&&r.push(o)),t.setHeader("Set-Cookie",r)}function _(e,t,n){g(e,t,[n])}function w(e){return Math.round(Date.now()/1e3)+e}var k=function(){return"undefined"!=typeof window};function O(e,t){var n;t||(t=(null===(n=null===window||void 0===window?void 0:window.location)||void 0===n?void 0:n.href)||""),e=e.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)").exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var j=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},E=function(){function e(t){var n=t.url,r=void 0===n?"":n,o=t.headers,i=void 0===o?{}:o,a=t.cookieOptions,s=t.fetch;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=r,this.headers=i,this.cookieOptions=T(T({},b),a),this.fetch=s}var t,n,r;return t=e,(n=[{key:"_createRequestHeaders",value:function(e){var t=T({},this.headers);return t.Authorization="Bearer ".concat(e),t}},{key:"cookieName",value:function(){var e;return null!==(e=this.cookieOptions.name)&&void 0!==e?e:""}},{key:"getUrlForProvider",value:function(e,t){var n=["provider=".concat(encodeURIComponent(e))];return(null==t?void 0:t.redirectTo)&&n.push("redirect_to=".concat(encodeURIComponent(t.redirectTo))),(null==t?void 0:t.scopes)&&n.push("scopes=".concat(encodeURIComponent(t.scopes))),"".concat(this.url,"/authorize?").concat(n.join("&"))}},{key:"signUpWithEmail",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return j(this,void 0,void 0,(function*(){try{var r=T({},this.headers),o="";n.redirectTo&&(o="?redirect_to="+encodeURIComponent(n.redirectTo));var i=yield p(this.fetch,"".concat(this.url,"/signup").concat(o),{email:e,password:t,data:n.data,gotrue_meta_security:{hcaptcha_token:n.captchaToken}},{headers:r}),a=T({},i);return a.expires_in&&(a.expires_at=w(i.expires_in)),{data:a,error:null}}catch(e){return{data:null,error:e}}}))}},{key:"signInWithEmail",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return j(this,void 0,void 0,(function*(){try{var r=T({},this.headers),o="?grant_type=password";n.redirectTo&&(o+="&redirect_to="+encodeURIComponent(n.redirectTo));var i=yield p(this.fetch,"".concat(this.url,"/token").concat(o),{email:e,password:t},{headers:r}),a=T({},i);return a.expires_in&&(a.expires_at=w(i.expires_in)),{data:a,error:null}}catch(e){return{data:null,error:e}}}))}},{key:"signUpWithPhone",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return j(this,void 0,void 0,(function*(){try{var r=T({},this.headers),o=yield p(this.fetch,"".concat(this.url,"/signup"),{phone:e,password:t,data:n.data,gotrue_meta_security:{hcaptcha_token:n.captchaToken}},{headers:r}),i=T({},o);return i.expires_in&&(i.expires_at=w(o.expires_in)),{data:i,error:null}}catch(e){return{data:null,error:e}}}))}},{key:"signInWithPhone",value:function(e,t){return j(this,void 0,void 0,(function*(){try{var n=T({},this.headers),r=yield p(this.fetch,"".concat(this.url,"/token").concat("?grant_type=password"),{phone:e,password:t},{headers:n}),o=T({},r);return o.expires_in&&(o.expires_at=w(r.expires_in)),{data:o,error:null}}catch(e){return{data:null,error:e}}}))}},{key:"sendMagicLinkEmail",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return j(this,void 0,void 0,(function*(){try{var n=T({},this.headers),r="";return t.redirectTo&&(r+="?redirect_to="+encodeURIComponent(t.redirectTo)),{data:yield p(this.fetch,"".concat(this.url,"/magiclink").concat(r),{email:e,gotrue_meta_security:{hcaptcha_token:t.captchaToken}},{headers:n}),error:null}}catch(e){return{data:null,error:e}}}))}},{key:"sendMobileOTP",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return j(this,void 0,void 0,(function*(){try{var n=T({},this.headers);return{data:yield p(this.fetch,"".concat(this.url,"/otp"),{phone:e,gotrue_meta_security:{hcaptcha_token:t.captchaToken}},{headers:n}),error:null}}catch(e){return{data:null,error:e}}}))}},{key:"signOut",value:function(e){return j(this,void 0,void 0,(function*(){try{return yield p(this.fetch,"".concat(this.url,"/logout"),{},{headers:this._createRequestHeaders(e),noResolveJson:!0}),{error:null}}catch(e){return{error:e}}}))}},{key:"verifyMobileOTP",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return j(this,void 0,void 0,(function*(){try{var r=T({},this.headers);return{data:yield p(this.fetch,"".concat(this.url,"/verify"),{phone:e,token:t,type:"sms",redirect_to:n.redirectTo},{headers:r}),error:null}}catch(e){return{data:null,error:e}}}))}},{key:"inviteUserByEmail",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return j(this,void 0,void 0,(function*(){try{var n=T({},this.headers),r="";return t.redirectTo&&(r+="?redirect_to="+encodeURIComponent(t.redirectTo)),{data:yield p(this.fetch,"".concat(this.url,"/invite").concat(r),{email:e,data:t.data},{headers:n}),error:null}}catch(e){return{data:null,error:e}}}))}},{key:"resetPasswordForEmail",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return j(this,void 0,void 0,(function*(){try{var n=T({},this.headers),r="";return t.redirectTo&&(r+="?redirect_to="+encodeURIComponent(t.redirectTo)),{data:yield p(this.fetch,"".concat(this.url,"/recover").concat(r),{email:e,gotrue_meta_security:{hcaptcha_token:t.captchaToken}},{headers:n}),error:null}}catch(e){return{data:null,error:e}}}))}},{key:"refreshAccessToken",value:function(e){return j(this,void 0,void 0,(function*(){try{var t=yield p(this.fetch,"".concat(this.url,"/token?grant_type=refresh_token"),{refresh_token:e},{headers:this.headers}),n=T({},t);return n.expires_in&&(n.expires_at=w(t.expires_in)),{data:n,error:null}}catch(e){return{data:null,error:e}}}))}},{key:"setAuthCookie",value:function(e,t){var n;"POST"!==e.method&&(t.setHeader("Allow","POST"),t.status(405).end("Method Not Allowed"));var r=e.body,o=r.event,i=r.session;if(!o)throw new Error("Auth event missing!");if("SIGNED_IN"===o){if(!i)throw new Error("Auth session missing!");_(e,t,{name:this.cookieName(),value:i.access_token,domain:this.cookieOptions.domain,maxAge:null!==(n=this.cookieOptions.lifetime)&&void 0!==n?n:0,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite})}"SIGNED_OUT"===o&&function(e,t,n){_(e,t,{name:n,value:"",maxAge:-1})}(e,t,this.cookieName()),t.status(200).json({})}},{key:"generateLink",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return j(this,void 0,void 0,(function*(){try{return{data:yield p(this.fetch,"".concat(this.url,"/admin/generate_link"),{type:e,email:t,password:n.password,data:n.data,redirect_to:n.redirectTo},{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}}))}},{key:"createUser",value:function(e){return j(this,void 0,void 0,(function*(){try{var t=yield p(this.fetch,"".concat(this.url,"/admin/users"),e,{headers:this.headers});return{user:t,data:t,error:null}}catch(e){return{user:null,data:null,error:e}}}))}},{key:"listUsers",value:function(){return j(this,void 0,void 0,(function*(){try{return{data:(yield d(this.fetch,"".concat(this.url,"/admin/users"),{headers:this.headers})).users,error:null}}catch(e){return{data:null,error:e}}}))}},{key:"getUserById",value:function(e){return j(this,void 0,void 0,(function*(){try{return{data:yield d(this.fetch,"".concat(this.url,"/admin/users/").concat(e),{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}}))}},{key:"getUserByCookie",value:function(e){return j(this,void 0,void 0,(function*(){try{if(!e.cookies)throw new Error("Not able to parse cookies! When using Express make sure the cookie-parser middleware is in use!");var t=e.cookies[this.cookieName()];if(!t)throw new Error("No cookie found!");var n=yield this.getUser(t),r=n.user,o=n.error;if(o)throw o;return{token:t,user:r,data:r,error:null}}catch(e){return{token:null,user:null,data:null,error:e}}}))}},{key:"updateUserById",value:function(e,t){return j(this,void 0,void 0,(function*(){try{var n=yield v(this.fetch,"".concat(this.url,"/admin/users/").concat(e),t,{headers:this.headers});return{user:n,data:n,error:null}}catch(e){return{user:null,data:null,error:e}}}))}},{key:"deleteUser",value:function(e){return j(this,void 0,void 0,(function*(){try{var t=yield function(e,t,n,r){return c(this,void 0,void 0,(function*(){return f(e,"DELETE",t,r,n)}))}(this.fetch,"".concat(this.url,"/admin/users/").concat(e),{},{headers:this.headers});return{user:t,data:t,error:null}}catch(e){return{user:null,data:null,error:e}}}))}},{key:"getUser",value:function(e){return j(this,void 0,void 0,(function*(){try{var t=yield d(this.fetch,"".concat(this.url,"/user"),{headers:this._createRequestHeaders(e)});return{user:t,data:t,error:null}}catch(e){return{user:null,data:null,error:e}}}))}},{key:"updateUser",value:function(e,t){return j(this,void 0,void 0,(function*(){try{var n=yield v(this.fetch,"".concat(this.url,"/user"),t,{headers:this._createRequestHeaders(e)});return{user:n,data:n,error:null}}catch(e){return{user:null,data:null,error:e}}}))}}])&&S(t.prototype,n),r&&S(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var A=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};!function(){if("object"!==("undefined"==typeof globalThis?"undefined":P(globalThis)))try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();var C={url:"http://localhost:9999",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,multiTab:!0,headers:y};function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=H(e);if(t){var o=H(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return B(this,n)}}function B(e,t){if(t&&("object"===I(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(i,e);var t,n,r,o=N(i);function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,e)}return t=i,n&&U(t.prototype,n),r&&U(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.stateChangeEmitters=new Map;var n=x(x({},C),t);this.currentUser=null,this.currentSession=null,this.autoRefreshToken=n.autoRefreshToken,this.persistSession=n.persistSession,this.multiTab=n.multiTab,this.localStorage=n.localStorage||globalThis.localStorage,this.api=new E({url:n.url,headers:n.headers,cookieOptions:n.cookieOptions,fetch:n.fetch}),this._recoverSession(),this._recoverAndRefresh(),this._listenForMultiTabEvents(),n.detectSessionInUrl&&k()&&O("access_token")&&this.getSessionFromUrl({storeSession:!0}).then((function(e){var t=e.error;t&&console.error("Error getting session from URL.",t)}))}var t,n,r;return t=e,(n=[{key:"signUp",value:function(e){var t=e.email,n=e.password,r=e.phone,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return A(this,void 0,void 0,(function*(){try{this._removeSession();var e=r&&n?yield this.api.signUpWithPhone(r,n,{data:o.data,captchaToken:o.captchaToken}):yield this.api.signUpWithEmail(t,n,{redirectTo:o.redirectTo,data:o.data,captchaToken:o.captchaToken}),i=e.data,a=e.error;if(a)throw a;if(!i)throw"An error occurred on sign up.";var s=null,c=null;return i.access_token&&(c=(s=i).user,this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN")),i.id&&(c=i),{user:c,session:s,error:null}}catch(e){return{user:null,session:null,error:e}}}))}},{key:"signIn",value:function(e){var t=e.email,n=e.phone,r=e.password,o=e.refreshToken,i=e.provider,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return A(this,void 0,void 0,(function*(){try{if(this._removeSession(),t&&!r)return{user:null,session:null,error:(yield this.api.sendMagicLinkEmail(t,{redirectTo:a.redirectTo,captchaToken:a.captchaToken})).error};if(t&&r)return this._handleEmailSignIn(t,r,{redirectTo:a.redirectTo});if(n&&!r)return{user:null,session:null,error:(yield this.api.sendMobileOTP(n,{captchaToken:a.captchaToken})).error};if(n&&r)return this._handlePhoneSignIn(n,r);if(o){var e=(yield this._callRefreshToken(o)).error;if(e)throw e;return{user:this.currentUser,session:this.currentSession,error:null}}if(i)return this._handleProviderSignIn(i,{redirectTo:a.redirectTo,scopes:a.scopes});throw new Error("You must provide either an email, phone number or a third-party provider.")}catch(e){return{user:null,session:null,error:e}}}))}},{key:"verifyOTP",value:function(e){var t=e.phone,n=e.token,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return A(this,void 0,void 0,(function*(){try{this._removeSession();var e=yield this.api.verifyMobileOTP(t,n,r),o=e.data,i=e.error;if(i)throw i;if(!o)throw"An error occurred on token verification.";var a=null,s=null;return o.access_token&&(s=(a=o).user,this._saveSession(a),this._notifyAllSubscribers("SIGNED_IN")),o.id&&(s=o),{user:s,session:a,error:null}}catch(e){return{user:null,session:null,error:e}}}))}},{key:"user",value:function(){return this.currentUser}},{key:"session",value:function(){return this.currentSession}},{key:"refreshSession",value:function(){var e;return A(this,void 0,void 0,(function*(){try{if(!(null===(e=this.currentSession)||void 0===e?void 0:e.access_token))throw new Error("Not logged in.");var t=(yield this._callRefreshToken()).error;if(t)throw t;return{data:this.currentSession,user:this.currentUser,error:null}}catch(e){return{data:null,user:null,error:e}}}))}},{key:"update",value:function(e){var t;return A(this,void 0,void 0,(function*(){try{if(!(null===(t=this.currentSession)||void 0===t?void 0:t.access_token))throw new Error("Not logged in.");var n=yield this.api.updateUser(this.currentSession.access_token,e),r=n.user,o=n.error;if(o)throw o;if(!r)throw Error("Invalid user data.");var i=x(x({},this.currentSession),{user:r});return this._saveSession(i),this._notifyAllSubscribers("USER_UPDATED"),{data:r,user:r,error:null}}catch(e){return{data:null,user:null,error:e}}}))}},{key:"setSession",value:function(e){return A(this,void 0,void 0,(function*(){try{if(!e)throw new Error("No current session.");var t=yield this.api.refreshAccessToken(e),n=t.data,r=t.error;return r?{session:null,error:r}:(this._saveSession(n),this._notifyAllSubscribers("SIGNED_IN"),{session:n,error:null})}catch(e){return{error:e,session:null}}}))}},{key:"setAuth",value:function(e){return this.currentSession=x(x({},this.currentSession),{access_token:e,token_type:"bearer",user:null}),this.currentSession}},{key:"getSessionFromUrl",value:function(e){return A(this,void 0,void 0,(function*(){try{if(!k())throw new Error("No browser detected.");var t=O("error_description");if(t)throw new Error(t);var n=O("provider_token"),r=O("access_token");if(!r)throw new Error("No access_token detected.");var o=O("expires_in");if(!o)throw new Error("No expires_in detected.");var i=O("refresh_token");if(!i)throw new Error("No refresh_token detected.");var a=O("token_type");if(!a)throw new Error("No token_type detected.");var s=Math.round(Date.now()/1e3)+parseInt(o),c=yield this.api.getUser(r),u=c.user,l=c.error;if(l)throw l;var h={provider_token:n,access_token:r,expires_in:parseInt(o),expires_at:s,refresh_token:i,token_type:a,user:u};if(null==e?void 0:e.storeSession){this._saveSession(h);var f=O("type");this._notifyAllSubscribers("SIGNED_IN"),"recovery"===f&&this._notifyAllSubscribers("PASSWORD_RECOVERY")}return window.location.hash="",{data:h,error:null}}catch(e){return{data:null,error:e}}}))}},{key:"signOut",value:function(){var e;return A(this,void 0,void 0,(function*(){var t=null===(e=this.currentSession)||void 0===e?void 0:e.access_token;if(this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT"),t){var n=(yield this.api.signOut(t)).error;if(n)return{error:n}}return{error:null}}))}},{key:"onAuthStateChange",value:function(e){var t=this;try{var n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),r={id:n,callback:e,unsubscribe:function(){t.stateChangeEmitters.delete(n)}};return this.stateChangeEmitters.set(n,r),{data:r,error:null}}catch(e){return{data:null,error:e}}}},{key:"_handleEmailSignIn",value:function(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return A(this,void 0,void 0,(function*(){try{var i=yield this.api.signInWithEmail(e,t,{redirectTo:o.redirectTo}),a=i.data,s=i.error;return s||!a?{data:null,user:null,session:null,error:s}:(((null===(n=null==a?void 0:a.user)||void 0===n?void 0:n.confirmed_at)||(null===(r=null==a?void 0:a.user)||void 0===r?void 0:r.email_confirmed_at))&&(this._saveSession(a),this._notifyAllSubscribers("SIGNED_IN")),{data:a,user:a.user,session:a,error:null})}catch(e){return{data:null,user:null,session:null,error:e}}}))}},{key:"_handlePhoneSignIn",value:function(e,t){var n;return A(this,void 0,void 0,(function*(){try{var r=yield this.api.signInWithPhone(e,t),o=r.data,i=r.error;return i||!o?{data:null,user:null,session:null,error:i}:((null===(n=null==o?void 0:o.user)||void 0===n?void 0:n.phone_confirmed_at)&&(this._saveSession(o),this._notifyAllSubscribers("SIGNED_IN")),{data:o,user:o.user,session:o,error:null})}catch(e){return{data:null,user:null,session:null,error:e}}}))}},{key:"_handleProviderSignIn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.api.getUrlForProvider(e,{redirectTo:t.redirectTo,scopes:t.scopes});try{return k()&&(window.location.href=n),{provider:e,url:n,data:null,session:null,user:null,error:null}}catch(t){return n?{provider:e,url:n,data:null,session:null,user:null,error:null}:{data:null,user:null,session:null,error:t}}}},{key:"_recoverSession",value:function(){var e;try{var t=k()&&(null===(e=this.localStorage)||void 0===e?void 0:e.getItem("supabase.auth.token"));if(!t||"string"!=typeof t)return null;var n=JSON.parse(t),r=n.currentSession;n.expiresAt>=Math.round(Date.now()/1e3)&&(null==r?void 0:r.user)&&(this._saveSession(r),this._notifyAllSubscribers("SIGNED_IN"))}catch(e){console.log("error",e)}}},{key:"_recoverAndRefresh",value:function(){return A(this,void 0,void 0,(function*(){try{var e=k()&&(yield this.localStorage.getItem("supabase.auth.token"));if(!e)return null;var t=JSON.parse(e),n=t.currentSession;if(t.expiresAt<Math.round(Date.now()/1e3))if(this.autoRefreshToken&&n.refresh_token){var r=(yield this._callRefreshToken(n.refresh_token)).error;r&&(console.log(r.message),yield this._removeSession())}else this._removeSession();else n&&n.user?(this._saveSession(n),this._notifyAllSubscribers("SIGNED_IN")):(console.log("Current session is missing data."),this._removeSession())}catch(e){return console.error(e),null}}))}},{key:"_callRefreshToken",value:function(e){var t;return void 0===e&&(e=null===(t=this.currentSession)||void 0===t?void 0:t.refresh_token),A(this,void 0,void 0,(function*(){try{if(!e)throw new Error("No current session.");var t=yield this.api.refreshAccessToken(e),n=t.data,r=t.error;if(r)throw r;if(!n)throw Error("Invalid session data.");return this._saveSession(n),this._notifyAllSubscribers("TOKEN_REFRESHED"),this._notifyAllSubscribers("SIGNED_IN"),{data:n,error:null}}catch(e){return{data:null,error:e}}}))}},{key:"_notifyAllSubscribers",value:function(e){var t=this;this.stateChangeEmitters.forEach((function(n){return n.callback(e,t.currentSession)}))}},{key:"_saveSession",value:function(e){this.currentSession=e,this.currentUser=e.user;var t=e.expires_at;if(t){var n=t-Math.round(Date.now()/1e3),r=n>60?60:.5;this._startAutoRefreshToken(1e3*(n-r))}this.persistSession&&e.expires_at&&this._persistSession(this.currentSession)}},{key:"_persistSession",value:function(e){var t={currentSession:e,expiresAt:e.expires_at};k()&&this.localStorage.setItem("supabase.auth.token",JSON.stringify(t))}},{key:"_removeSession",value:function(){return A(this,void 0,void 0,(function*(){this.currentSession=null,this.currentUser=null,this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),k()&&(yield this.localStorage.removeItem("supabase.auth.token"))}))}},{key:"_startAutoRefreshToken",value:function(e){var t=this;this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),e<=0||!this.autoRefreshToken||(this.refreshTokenTimer=setTimeout((function(){return t._callRefreshToken()}),e),"function"==typeof this.refreshTokenTimer.unref&&this.refreshTokenTimer.unref())}},{key:"_listenForMultiTabEvents",value:function(){var e=this;if(!this.multiTab||!k()||!(null===window||void 0===window?void 0:window.addEventListener))return!1;try{null===window||void 0===window||window.addEventListener("storage",(function(t){var n;if("supabase.auth.token"===t.key){var r=JSON.parse(String(t.newValue));(null===(n=null==r?void 0:r.currentSession)||void 0===n?void 0:n.access_token)?(e._recoverAndRefresh(),e._notifyAllSubscribers("SIGNED_IN")):(e._removeSession(),e._notifyAllSubscribers("SIGNED_OUT"))}}))}catch(e){console.error("_listenForMultiTabEvents",e)}}}])&&R(t.prototype,n),r&&R(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}());function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var G=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},J=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.shouldThrowOnError=!1,F(this,t),this.fetch=t.fetch||a.a}var t,n,r;return t=e,(n=[{key:"throwOnError",value:function(){return this.shouldThrowOnError=!0,this}},{key:"then",value:function(e,t){var n=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");var r=this.fetch(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((function(e){return G(n,void 0,void 0,(function*(){var t,n,r,o=null,i=null,a=null;if(e.ok){var s=null===(t=this.headers.Prefer)||void 0===t?void 0:t.split(",").includes("return=minimal");if("HEAD"!==this.method&&!s){var c=yield e.text();c&&(i="text/csv"===this.headers.Accept?c:JSON.parse(c))}var u=null===(n=this.headers.Prefer)||void 0===n?void 0:n.match(/count=(exact|planned|estimated)/),l=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");u&&l&&l.length>1&&(a=parseInt(l[1]))}else{var h=yield e.text();try{o=JSON.parse(h)}catch(e){o={message:h}}if(o&&this.shouldThrowOnError)throw o}return{error:o,data:i,count:a,status:e.status,statusText:e.statusText,body:i}}))}));return this.shouldThrowOnError||(r=r.catch((function(e){return{error:{message:"FetchError: ".concat(e.message),details:"",hint:"",code:e.code||""},data:null,body:null,count:null,status:400,statusText:"Bad Request"}}))),r.then(e,t)}}])&&L(t.prototype,n),r&&L(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Y(e);if(t){var o=Y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return X(this,n)}}function X(e,t){if(t&&("object"===q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=re(e);if(t){var o=re(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ne(this,n)}}function ne(e,t){if(t&&("object"===V(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ee(e,t)}(i,e);var t,n,r,o=te(i);function i(){var e;return $(this,i),(e=o.apply(this,arguments)).cs=e.contains,e.cd=e.containedBy,e.sl=e.rangeLt,e.sr=e.rangeGt,e.nxl=e.rangeGte,e.nxr=e.rangeLte,e.adj=e.rangeAdjacent,e.ov=e.overlaps,e}return t=i,(n=[{key:"not",value:function(e,t,n){return this.url.searchParams.append("".concat(e),"not.".concat(t,".").concat(n)),this}},{key:"or",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.foreignTable,r=void 0===n?"or":"".concat(n,".or");return this.url.searchParams.append(r,"(".concat(e,")")),this}},{key:"eq",value:function(e,t){return this.url.searchParams.append("".concat(e),"eq.".concat(t)),this}},{key:"neq",value:function(e,t){return this.url.searchParams.append("".concat(e),"neq.".concat(t)),this}},{key:"gt",value:function(e,t){return this.url.searchParams.append("".concat(e),"gt.".concat(t)),this}},{key:"gte",value:function(e,t){return this.url.searchParams.append("".concat(e),"gte.".concat(t)),this}},{key:"lt",value:function(e,t){return this.url.searchParams.append("".concat(e),"lt.".concat(t)),this}},{key:"lte",value:function(e,t){return this.url.searchParams.append("".concat(e),"lte.".concat(t)),this}},{key:"like",value:function(e,t){return this.url.searchParams.append("".concat(e),"like.".concat(t)),this}},{key:"ilike",value:function(e,t){return this.url.searchParams.append("".concat(e),"ilike.".concat(t)),this}},{key:"is",value:function(e,t){return this.url.searchParams.append("".concat(e),"is.".concat(t)),this}},{key:"in",value:function(e,t){var n=t.map((function(e){return"string"==typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e)})).join(",");return this.url.searchParams.append("".concat(e),"in.(".concat(n,")")),this}},{key:"contains",value:function(e,t){return"string"==typeof t?this.url.searchParams.append("".concat(e),"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append("".concat(e),"cs.{".concat(t.join(","),"}")):this.url.searchParams.append("".concat(e),"cs.".concat(JSON.stringify(t))),this}},{key:"containedBy",value:function(e,t){return"string"==typeof t?this.url.searchParams.append("".concat(e),"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append("".concat(e),"cd.{".concat(t.join(","),"}")):this.url.searchParams.append("".concat(e),"cd.".concat(JSON.stringify(t))),this}},{key:"rangeLt",value:function(e,t){return this.url.searchParams.append("".concat(e),"sl.".concat(t)),this}},{key:"rangeGt",value:function(e,t){return this.url.searchParams.append("".concat(e),"sr.".concat(t)),this}},{key:"rangeGte",value:function(e,t){return this.url.searchParams.append("".concat(e),"nxl.".concat(t)),this}},{key:"rangeLte",value:function(e,t){return this.url.searchParams.append("".concat(e),"nxr.".concat(t)),this}},{key:"rangeAdjacent",value:function(e,t){return this.url.searchParams.append("".concat(e),"adj.".concat(t)),this}},{key:"overlaps",value:function(e,t){return"string"==typeof t?this.url.searchParams.append("".concat(e),"ov.".concat(t)):this.url.searchParams.append("".concat(e),"ov.{".concat(t.join(","),"}")),this}},{key:"textSearch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.config,o=n.type,i=void 0===o?null:o,a="";"plain"===i?a="pl":"phrase"===i?a="ph":"websearch"===i&&(a="w");var s=void 0===r?"":"(".concat(r,")");return this.url.searchParams.append("".concat(e),"".concat(a,"fts").concat(s,".").concat(t)),this}},{key:"fts",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.config,o=void 0===r?"":"(".concat(r,")");return this.url.searchParams.append("".concat(e),"fts".concat(o,".").concat(t)),this}},{key:"plfts",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.config,o=void 0===r?"":"(".concat(r,")");return this.url.searchParams.append("".concat(e),"plfts".concat(o,".").concat(t)),this}},{key:"phfts",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.config,o=void 0===r?"":"(".concat(r,")");return this.url.searchParams.append("".concat(e),"phfts".concat(o,".").concat(t)),this}},{key:"wfts",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.config,o=void 0===r?"":"(".concat(r,")");return this.url.searchParams.append("".concat(e),"wfts".concat(o,".").concat(t)),this}},{key:"filter",value:function(e,t,n){return this.url.searchParams.append("".concat(e),"".concat(t,".").concat(n)),this}},{key:"match",value:function(e){var t=this;return Object.keys(e).forEach((function(n){t.url.searchParams.append("".concat(n),"eq.".concat(e[n]))})),this}}])&&Z(t.prototype,n),r&&Z(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W(e,t)}(i,e);var t,n,r,o=K(i);function i(){return z(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"select",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*",t=!1,n=e.split("").map((function(e){return/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)})).join("");return this.url.searchParams.set("select",n),this}},{key:"order",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ascending,r=void 0===n||n,o=t.nullsFirst,i=void 0!==o&&o,a=t.foreignTable,s=void 0===a?"order":"".concat(a,".order"),c=this.url.searchParams.get(s);return this.url.searchParams.set(s,"".concat(c?"".concat(c,","):"").concat(e,".").concat(r?"asc":"desc",".").concat(i?"nullsfirst":"nullslast")),this}},{key:"limit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.foreignTable,r=void 0===n?"limit":"".concat(n,".limit");return this.url.searchParams.set(r,"".concat(e)),this}},{key:"range",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.foreignTable,o=void 0===r?"offset":"".concat(r,".offset"),i=void 0===r?"limit":"".concat(r,".limit");return this.url.searchParams.set(o,"".concat(e)),this.url.searchParams.set(i,"".concat(t-e+1)),this}},{key:"abortSignal",value:function(e){return this.signal=e,this}},{key:"single",value:function(){return this.headers.Accept="application/vnd.pgrst.object+json",this}},{key:"maybeSingle",value:function(){var e=this;this.headers.Accept="application/vnd.pgrst.object+json";var t=new i(this);return t.then=function(t,n){return e.then((function(e){var n,r;return(null===(r=null===(n=e.error)||void 0===n?void 0:n.details)||void 0===r?void 0:r.includes("Results contain 0 rows"))?t({error:null,data:null,count:e.count,status:200,statusText:"OK",body:null}):t(e)}),n)},t}},{key:"csv",value:function(){return this.headers.Accept="text/csv",this}}])&&Q(t.prototype,n),r&&Q(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(J));function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e){return function(e){if(Array.isArray(e))return se(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return se(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pe(e);if(t){var o=pe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return de(this,n)}}function de(e,t){if(t&&("object"===ie(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&he(e,t)}(i,e);var t,n,r,o=fe(i);function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.headers,a=void 0===r?{}:r,s=n.schema,c=n.fetch;return ue(this,i),(t=o.call(this,{fetch:c})).url=new URL(e),t.headers=ce({},a),t.schema=s,t}return t=i,(n=[{key:"select",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.head,r=void 0!==n&&n,o=t.count,i=void 0===o?null:o;this.method="GET";var a=!1,s=e.split("").map((function(e){return/\s/.test(e)&&!a?"":('"'===e&&(a=!a),e)})).join("");return this.url.searchParams.set("select",s),i&&(this.headers.Prefer="count=".concat(i)),r&&(this.method="HEAD"),new oe(this)}},{key:"insert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.upsert,r=void 0!==n&&n,o=t.onConflict,i=t.returning,a=void 0===i?"representation":i,s=t.count,c=void 0===s?null:s;this.method="POST";var u=["return=".concat(a)];if(r&&u.push("resolution=merge-duplicates"),r&&void 0!==o&&this.url.searchParams.set("on_conflict",o),this.body=e,c&&u.push("count=".concat(c)),this.headers.Prefer&&u.unshift(this.headers.Prefer),this.headers.Prefer=u.join(","),Array.isArray(e)){var l=e.reduce((function(e,t){return e.concat(Object.keys(t))}),[]);if(l.length>0){var h=ae(new Set(l)).map((function(e){return'"'.concat(e,'"')}));this.url.searchParams.set("columns",h.join(","))}}return new oe(this)}},{key:"upsert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.onConflict,r=t.returning,o=void 0===r?"representation":r,i=t.count,a=void 0===i?null:i,s=t.ignoreDuplicates,c=void 0!==s&&s;this.method="POST";var u=["resolution=".concat(c?"ignore":"merge","-duplicates"),"return=".concat(o)];return void 0!==n&&this.url.searchParams.set("on_conflict",n),this.body=e,a&&u.push("count=".concat(a)),this.headers.Prefer&&u.unshift(this.headers.Prefer),this.headers.Prefer=u.join(","),new oe(this)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.returning,r=void 0===n?"representation":n,o=t.count,i=void 0===o?null:o;this.method="PATCH";var a=["return=".concat(r)];return this.body=e,i&&a.push("count=".concat(i)),this.headers.Prefer&&a.unshift(this.headers.Prefer),this.headers.Prefer=a.join(","),new oe(this)}},{key:"delete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.returning,n=void 0===t?"representation":t,r=e.count,o=void 0===r?null:r;this.method="DELETE";var i=["return=".concat(n)];return o&&i.push("count=".concat(o)),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new oe(this)}}])&&le(t.prototype,n),r&&le(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(J);function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ge(){return(ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Se(e);if(t){var o=Se(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Te(this,n)}}function Te(e,t){if(t&&("object"===ye(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ke(e,t)}(i,e);var t,n,r,o=Oe(i);function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.headers,a=void 0===r?{}:r,s=n.schema,c=n.fetch;return _e(this,i),(t=o.call(this,{fetch:c})).url=new URL(e),t.headers=ge({},a),t.schema=s,t}return t=i,(n=[{key:"rpc",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.head,o=void 0!==r&&r,i=n.count,a=void 0===i?null:i;return o?(this.method="HEAD",e&&Object.entries(e).forEach((function(e){var n=be(e,2),r=n[0],o=n[1];t.url.searchParams.append(r,o)}))):(this.method="POST",this.body=e),a&&(void 0!==this.headers.Prefer?this.headers.Prefer+=",count=".concat(a):this.headers.Prefer="count=".concat(a)),new oe(this)}}])&&we(t.prototype,n),r&&we(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(J),Ee={"X-Client-Info":"postgrest-js/".concat("0.36.0")};function Pe(){return(Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ae,Ce=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.headers,o=void 0===r?{}:r,i=n.schema,a=n.fetch;xe(this,e),this.url=t,this.headers=Pe(Pe({},Ee),o),this.schema=i,this.fetch=a}var t,n,r;return t=e,(n=[{key:"auth",value:function(e){return this.headers.Authorization="Bearer ".concat(e),this}},{key:"from",value:function(e){var t="".concat(this.url,"/").concat(e);return new ve(t,{headers:this.headers,schema:this.schema,fetch:this.fetch})}},{key:"rpc",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.head,o=void 0!==r&&r,i=n.count,a=void 0===i?null:i,s="".concat(this.url,"/rpc/").concat(e);return new je(s,{headers:this.headers,schema:this.schema,fetch:this.fetch}).rpc(t,{head:o,count:a})}}])&&Re(t.prototype,n),r&&Re(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(Ae||(Ae={}));var Ie,Ue,De,Ne,Be=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=null!==(n=r.skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce((function(n,r){return n[r]=He(r,e,t,o),n}),{})},He=function(e,t,n,r){var o=t.find((function(t){return t.name===e})),i=null==o?void 0:o.type,a=n[e];return i&&!r.includes(i)?Me(i,a):Fe(a)},Me=function(e,t){if("_"===e.charAt(0)){var n=e.slice(1,e.length);return qe(t,n)}switch(e){case Ae.bool:return Le(t);case Ae.float4:case Ae.float8:case Ae.int2:case Ae.int4:case Ae.int8:case Ae.numeric:case Ae.oid:return Ge(t);case Ae.json:case Ae.jsonb:return Je(t);case Ae.timestamp:return ze(t);case Ae.abstime:case Ae.date:case Ae.daterange:case Ae.int4range:case Ae.int8range:case Ae.money:case Ae.reltime:case Ae.text:case Ae.time:case Ae.timestamptz:case Ae.timetz:case Ae.tsrange:case Ae.tstzrange:default:return Fe(t)}},Fe=function(e){return e},Le=function(e){switch(e){case"t":return!0;case"f":return!1;default:return e}},Ge=function(e){if("string"==typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Je=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},qe=function(e,t){if("string"!=typeof e)return e;var n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){var o,i=e.slice(1,n);try{o=JSON.parse("["+i+"]")}catch(e){o=i?i.split(","):[]}return o.map((function(e){return Me(t,e)}))}return e},ze=function(e){return"string"==typeof e?e.replace(" ","T"):e},Qe={"X-Client-Info":"realtime-js/".concat("1.3.5")};function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(Ie||(Ie={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(Ue||(Ue={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(De||(De={})),function(e){e.websocket="websocket"}(Ne||(Ne={}));var Ke=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}var t,n,r;return t=e,(n=[{key:"reset",value:function(){this.tries=0,clearTimeout(this.timer)}},{key:"scheduleTimeout",value:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout((function(){e.tries=e.tries+1,e.callback()}),this.timerCalc(this.tries+1))}}])&&We(t.prototype,n),r&&We(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Xe(){return(Xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $e=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;Ye(this,e),this.channel=t,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}var t,n,r;return t=e,(n=[{key:"resend",value:function(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}},{key:"send",value:function(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref}))}},{key:"updatePayload",value:function(e){this.payload=Xe(Xe({},this.payload),e)}},{key:"receive",value:function(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}},{key:"startTimeout",value:function(){var e=this;this.timeoutTimer||(this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,(function(t){e._cancelRefEvent(),e._cancelTimeout(),e.receivedResp=t,e._matchReceive(t)})),this.timeoutTimer=setTimeout((function(){e.trigger("timeout",{})}),this.timeout))}},{key:"trigger",value:function(e,t){this.refEvent&&this.channel.trigger(this.refEvent,{status:e,response:t})}},{key:"destroy",value:function(){this._cancelRefEvent(),this._cancelTimeout()}},{key:"_cancelRefEvent",value:function(){this.refEvent&&this.channel.off(this.refEvent)}},{key:"_cancelTimeout",value:function(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}},{key:"_matchReceive",value:function(e){var t=e.status,n=e.response;this.recHooks.filter((function(e){return e.status===t})).forEach((function(e){return e.callback(n)}))}},{key:"_hasReceived",value:function(e){return this.receivedResp&&this.receivedResp.status===e}}])&&Ve(t.prototype,n),r&&Ve(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var tt=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;Ze(this,e),this.topic=t,this.params=r,this.socket=o,this.bindings=[],this.state=Ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.timeout=this.socket.timeout,this.joinPush=new $e(this,De.join,this.params,this.timeout),this.rejoinTimer=new Ke((function(){return n.rejoinUntilConnected()}),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(function(){n.state=Ue.joined,n.rejoinTimer.reset(),n.pushBuffer.forEach((function(e){return e.send()})),n.pushBuffer=[]})),this.onClose((function(){n.rejoinTimer.reset(),n.socket.log("channel","close ".concat(n.topic," ").concat(n.joinRef())),n.state=Ue.closed,n.socket.remove(n)})),this.onError((function(e){n.isLeaving()||n.isClosed()||(n.socket.log("channel","error ".concat(n.topic),e),n.state=Ue.errored,n.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(function(){n.isJoining()&&(n.socket.log("channel","timeout ".concat(n.topic),n.joinPush.timeout),n.state=Ue.errored,n.rejoinTimer.scheduleTimeout())})),this.on(De.reply,(function(e,t){n.trigger(n.replyEventName(t),e)}))}var t,n,r;return t=e,(n=[{key:"rejoinUntilConnected",value:function(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this.rejoin()}},{key:"subscribe",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";return this.joinedOnce=!0,this.rejoin(e),this.joinPush}},{key:"onClose",value:function(e){this.on(De.close,e)}},{key:"onError",value:function(e){this.on(De.error,(function(t){return e(t)}))}},{key:"on",value:function(e,t){this.bindings.push({event:e,callback:t})}},{key:"off",value:function(e){this.bindings=this.bindings.filter((function(t){return t.event!==e}))}},{key:"canPush",value:function(){return this.socket.isConnected()&&this.isJoined()}},{key:"push",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");var r=new $e(this,e,t,n);return this.canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}},{key:"updateJoinPayload",value:function(e){this.joinPush.updatePayload(e)}},{key:"unsubscribe",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=Ue.leaving;var n=function(){e.socket.log("channel","leave ".concat(e.topic)),e.trigger(De.close,"leave",e.joinRef())};this.joinPush.destroy();var r=new $e(this,De.leave,{},t);return r.receive("ok",(function(){return n()})).receive("timeout",(function(){return n()})),r.send(),this.canPush()||r.trigger("ok",{}),r}},{key:"onMessage",value:function(e,t,n){return t}},{key:"isMember",value:function(e){return this.topic===e}},{key:"joinRef",value:function(){return this.joinPush.ref}},{key:"rejoin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=Ue.joining,this.joinPush.resend(e))}},{key:"trigger",value:function(e,t,n){var r=De.close,o=De.error,i=De.leave,a=De.join;if(!(n&&[r,o,i,a].indexOf(e)>=0&&n!==this.joinRef())){var s=this.onMessage(e,t,n);if(t&&!s)throw"channel onMessage callbacks must return the payload, modified or unmodified";this.bindings.filter((function(n){return"*"===n.event?e===(null==t?void 0:t.type):n.event===e})).map((function(e){return e.callback(s,n)}))}}},{key:"replyEventName",value:function(e){return"chan_reply_".concat(e)}},{key:"isClosed",value:function(){return this.state===Ue.closed}},{key:"isErrored",value:function(){return this.state===Ue.errored}},{key:"isJoined",value:function(){return this.state===Ue.joined}},{key:"isJoining",value:function(){return this.state===Ue.joining}},{key:"isLeaving",value:function(){return this.state===Ue.leaving}}])&&et(t.prototype,n),r&&et(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),nt=n("Fndm");function rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ot=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.HEADER_LENGTH=1}var t,n,r;return t=e,(n=[{key:"decode",value:function(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"==typeof e?JSON.parse(e):{})}},{key:"_binaryDecode",value:function(e){var t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}},{key:"_decodeBroadcast",value:function(e,t,n){var r=t.getUint8(1),o=t.getUint8(2),i=this.HEADER_LENGTH+2,a=n.decode(e.slice(i,i+r));i+=r;var s=n.decode(e.slice(i,i+o));return i+=o,{ref:null,topic:a,event:s,payload:JSON.parse(n.decode(e.slice(i,e.byteLength)))}}}])&&rt(t.prototype,n),r&&rt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function it(){return(it=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function at(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var st=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},ct=function(){},ut=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.accessToken=null,this.channels=[],this.endPoint="",this.headers=Qe,this.params={},this.timeout=1e4,this.transport=nt.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.longpollerTimeout=2e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ct,this.conn=null,this.sendBuffer=[],this.serializer=new ot,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.endPoint="".concat(t,"/").concat(Ne.websocket),(null==n?void 0:n.params)&&(this.params=n.params),(null==n?void 0:n.headers)&&(this.headers=it(it({},this.headers),n.headers)),(null==n?void 0:n.timeout)&&(this.timeout=n.timeout),(null==n?void 0:n.logger)&&(this.logger=n.logger),(null==n?void 0:n.transport)&&(this.transport=n.transport),(null==n?void 0:n.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs),(null==n?void 0:n.longpollerTimeout)&&(this.longpollerTimeout=n.longpollerTimeout),this.reconnectAfterMs=(null==n?void 0:n.reconnectAfterMs)?n.reconnectAfterMs:function(e){return[1e3,2e3,5e3,1e4][e-1]||1e4},this.encode=(null==n?void 0:n.encode)?n.encode:function(e,t){return t(JSON.stringify(e))},this.decode=(null==n?void 0:n.decode)?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ke((function(){return st(r,void 0,void 0,(function*(){yield this.disconnect(),this.connect()}))}),this.reconnectAfterMs)}var t,n,r;return t=e,(n=[{key:"connect",value:function(){var e=this;this.conn||(this.conn=new this.transport(this.endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=function(){return e._onConnOpen()},this.conn.onerror=function(t){return e._onConnError(t)},this.conn.onmessage=function(t){return e.onConnMessage(t)},this.conn.onclose=function(t){return e._onConnClose(t)}))}},{key:"disconnect",value:function(e,t){var n=this;return new Promise((function(r,o){try{n.conn&&(n.conn.onclose=function(){},e?n.conn.close(e,t||""):n.conn.close(),n.conn=null,n.heartbeatTimer&&clearInterval(n.heartbeatTimer),n.reconnectTimer.reset()),r({error:null,data:!0})}catch(e){r({error:e,data:!1})}}))}},{key:"log",value:function(e,t,n){this.logger(e,t,n)}},{key:"onOpen",value:function(e){this.stateChangeCallbacks.open.push(e)}},{key:"onClose",value:function(e){this.stateChangeCallbacks.close.push(e)}},{key:"onError",value:function(e){this.stateChangeCallbacks.error.push(e)}},{key:"onMessage",value:function(e){this.stateChangeCallbacks.message.push(e)}},{key:"connectionState",value:function(){switch(this.conn&&this.conn.readyState){case Ie.connecting:return"connecting";case Ie.open:return"open";case Ie.closing:return"closing";default:return"closed"}}},{key:"isConnected",value:function(){return"open"===this.connectionState()}},{key:"remove",value:function(e){this.channels=this.channels.filter((function(t){return t.joinRef()!==e.joinRef()}))}},{key:"channel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new tt(e,t,this);return this.channels.push(n),n}},{key:"push",value:function(e){var t=this,n=e.topic,r=e.event,o=e.payload,i=e.ref,a=function(){t.encode(e,(function(e){var n;null===(n=t.conn)||void 0===n||n.send(e)}))};this.log("push","".concat(n," ").concat(r," (").concat(i,")"),o),this.isConnected()?a():this.sendBuffer.push(a)}},{key:"onConnMessage",value:function(e){var t=this;this.decode(e.data,(function(e){var n=e.topic,r=e.event,o=e.payload,i=e.ref;i&&i===t.pendingHeartbeatRef?t.pendingHeartbeatRef=null:r===(null==o?void 0:o.type)&&t._resetHeartbeat(),t.log("receive","".concat(o.status||""," ").concat(n," ").concat(r," ").concat(i&&"("+i+")"||""),o),t.channels.filter((function(e){return e.isMember(n)})).forEach((function(e){return e.trigger(r,o,i)})),t.stateChangeCallbacks.message.forEach((function(t){return t(e)}))}))}},{key:"endPointURL",value:function(){return this._appendParams(this.endPoint,it({},this.params,{vsn:"1.0.0"}))}},{key:"makeRef",value:function(){var e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}},{key:"setAuth",value:function(e){this.accessToken=e;try{this.channels.forEach((function(t){e&&t.updateJoinPayload({user_token:e}),t.joinedOnce&&t.isJoined()&&t.push(De.access_token,{access_token:e})}))}catch(e){console.log("setAuth error",e)}}},{key:"leaveOpenTopic",value:function(e){var t=this.channels.find((function(t){return t.topic===e&&(t.isJoined()||t.isJoining())}));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}},{key:"_onConnOpen",value:function(){this.log("transport","connected to ".concat(this.endPointURL())),this._flushSendBuffer(),this.reconnectTimer.reset(),this._resetHeartbeat(),this.stateChangeCallbacks.open.forEach((function(e){return e()}))}},{key:"_onConnClose",value:function(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((function(t){return t(e)}))}},{key:"_onConnError",value:function(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((function(t){return t(e)}))}},{key:"_triggerChanError",value:function(){this.channels.forEach((function(e){return e.trigger(De.error)}))}},{key:"_appendParams",value:function(e,t){if(0===Object.keys(t).length)return e;var n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return"".concat(e).concat(n).concat(r)}},{key:"_flushSendBuffer",value:function(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((function(e){return e()})),this.sendBuffer=[])}},{key:"_resetHeartbeat",value:function(){var e=this;this.pendingHeartbeatRef=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((function(){return e._sendHeartbeat()}),this.heartbeatIntervalMs)}},{key:"_sendHeartbeat",value:function(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}])&&at(t.prototype,n),r&&at(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function lt(){return(lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ft=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i={},a="*"===o?"realtime:".concat(r):"realtime:".concat(r,":").concat(o),s=n.Authorization.split(" ")[1];s&&(i.user_token=s),this.subscription=t.channel(a,i)}var t,n,o;return t=e,(n=[{key:"getPayloadRecords",value:function(e){var t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=r.convertChangeData(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=r.convertChangeData(e.columns,e.old_record)),t}},{key:"on",value:function(e,t){var n=this;return this.subscription.on(e,(function(e){var r={schema:e.schema,table:e.table,commit_timestamp:e.commit_timestamp,eventType:e.type,new:{},old:{},errors:e.errors};r=lt(lt({},r),n.getPayloadRecords(e)),t(r)})),this}},{key:"subscribe",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return this.subscription.onError((function(t){return e("SUBSCRIPTION_ERROR",t)})),this.subscription.onClose((function(){return e("CLOSED")})),this.subscription.subscribe().receive("ok",(function(){return e("SUBSCRIBED")})).receive("error",(function(t){return e("SUBSCRIPTION_ERROR",t)})).receive("timeout",(function(){return e("RETRYING_AFTER_TIMEOUT")})),this.subscription}}])&&ht(t.prototype,n),o&&ht(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function dt(e){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vt(e,t){return(vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mt(e);if(t){var o=mt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bt(this,n)}}function bt(e,t){if(t&&("object"===dt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function mt(e){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vt(e,t)}(i,e);var t,n,r,o=yt(i);function i(e,t){var n,r=t.headers,a=void 0===r?{}:r,s=t.schema,c=t.realtime,u=t.table,l=t.fetch;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,e,{headers:a,schema:s,fetch:l}))._subscription=null,n._realtime=c,n._headers=a,n._schema=s,n._table=u,n}return t=i,(n=[{key:"on",value:function(e,t){return this._realtime.isConnected()||this._realtime.connect(),this._subscription||(this._subscription=new ft(this._realtime,this._headers,this._schema,this._table)),this._subscription.on(e,t)}}])&&pt(t.prototype,n),r&&pt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(ve);function _t(){return(_t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var wt=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},kt=function(e){return e.msg||e.message||e.error_description||e.error||JSON.stringify(e)},Ot=function(e,t){if("function"!=typeof e.json)return t(e);e.json().then((function(n){return t({message:kt(n),status:(null==e?void 0:e.status)||500})}))},Tt=function(e,t,n,r){var o={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?o:(o.headers=_t({"Content-Type":"application/json"},null==t?void 0:t.headers),o.body=JSON.stringify(r),_t(_t({},o),n))};function St(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.a,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return wt(this,void 0,void 0,(function*(){return new Promise((function(a,s){e(n,Tt(t,r,o,i)).then((function(e){if(!e.ok)throw e;return(null==r?void 0:r.noResolveJson)?a(e):e.json()})).then((function(e){return a(e)})).catch((function(e){return Ot(e,s)}))}))}))}function jt(e,t,n,r){return wt(this,void 0,void 0,(function*(){return St(e,"GET",t,n,r)}))}function Et(e,t,n,r,o){return wt(this,void 0,void 0,(function*(){return St(e,"POST",t,r,o,n)}))}function Pt(e,t,n,r,o){return wt(this,void 0,void 0,(function*(){return St(e,"DELETE",t,r,o,n)}))}function xt(){return(xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function At(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ct=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},It={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ut={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Dt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;Rt(this,e),this.url=t,this.headers=n,this.bucketId=r,this.fetch=o}var t,n,r;return t=e,(n=[{key:"uploadOrUpdate",value:function(e,t,n,r){return Ct(this,void 0,void 0,(function*(){try{var o,i=xt(xt({},Ut),r),s=xt(xt({},this.headers),"POST"===e&&{"x-upsert":String(i.upsert)});"undefined"!=typeof Blob&&n instanceof Blob?((o=new FormData).append("cacheControl",i.cacheControl),o.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(o=n).append("cacheControl",i.cacheControl):(o=n,s["cache-control"]="max-age=".concat(i.cacheControl),s["content-type"]=i.contentType);var c,u=this._removeEmptyFolders(t),l=this._getFinalPath(u),h=yield a()("".concat(this.url,"/object/").concat(l),{method:e,body:o,headers:s});return h.ok?{data:{Key:l},error:null}:{data:null,error:yield h.json()}}catch(c){return{data:null,error:c}}}))}},{key:"upload",value:function(e,t,n){return Ct(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",e,t,n)}))}},{key:"update",value:function(e,t,n){return Ct(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",e,t,n)}))}},{key:"move",value:function(e,t){return Ct(this,void 0,void 0,(function*(){try{return{data:yield Et(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}}))}},{key:"createSignedUrl",value:function(e,t){return Ct(this,void 0,void 0,(function*(){try{var n=this._getFinalPath(e),r=yield Et(this.fetch,"".concat(this.url,"/object/sign/").concat(n),{expiresIn:t},{headers:this.headers}),o="".concat(this.url).concat(r.signedURL);return{data:r={signedURL:o},error:null,signedURL:o}}catch(e){return{data:null,error:e,signedURL:null}}}))}},{key:"download",value:function(e){return Ct(this,void 0,void 0,(function*(){try{var t=this._getFinalPath(e),n=yield jt(this.fetch,"".concat(this.url,"/object/").concat(t),{headers:this.headers,noResolveJson:!0});return{data:yield n.blob(),error:null}}catch(e){return{data:null,error:e}}}))}},{key:"getPublicUrl",value:function(e){try{var t=this._getFinalPath(e),n="".concat(this.url,"/object/public/").concat(t);return{data:{publicURL:n},error:null,publicURL:n}}catch(e){return{data:null,error:e,publicURL:null}}}},{key:"remove",value:function(e){return Ct(this,void 0,void 0,(function*(){try{return{data:yield Pt(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}}))}},{key:"list",value:function(e,t,n){return Ct(this,void 0,void 0,(function*(){try{var r=xt(xt(xt({},It),t),{prefix:e||""});return{data:yield Et(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),r,{headers:this.headers},n),error:null}}catch(e){return{data:null,error:e}}}))}},{key:"_getFinalPath",value:function(e){return"".concat(this.bucketId,"/").concat(e)}},{key:"_removeEmptyFolders",value:function(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}}])&&At(t.prototype,n),r&&At(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Nt={"X-Client-Info":"storage-js/".concat("0.0.0")};function Bt(){return(Bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ft=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function Lt(e){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qt(e,t){return(qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wt(e);if(t){var o=Wt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qt(this,n)}}function Qt(e,t){if(t&&("object"===Lt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Wt(e){return(Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Kt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qt(e,t)}(i,e);var t,n,r,o=zt(i);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return Gt(this,i),o.call(this,e,t,n)}return t=i,(n=[{key:"from",value:function(e){return new Dt(this.url,this.headers,e,this.fetch)}}])&&Jt(t.prototype,n),r&&Jt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;Ht(this,e),this.url=t,this.headers=Bt(Bt({},Nt),n),this.fetch=r}var t,n,r;return t=e,(n=[{key:"listBuckets",value:function(){return Ft(this,void 0,void 0,(function*(){try{return{data:yield jt(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}}))}},{key:"getBucket",value:function(e){return Ft(this,void 0,void 0,(function*(){try{return{data:yield jt(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}}))}},{key:"createBucket",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return Ft(this,void 0,void 0,(function*(){try{return{data:(yield Et(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,public:t.public},{headers:this.headers})).name,error:null}}catch(e){return{data:null,error:e}}}))}},{key:"updateBucket",value:function(e,t){return Ft(this,void 0,void 0,(function*(){try{return{data:yield function(e,t,n,r,o){return wt(this,void 0,void 0,(function*(){return St(e,"PUT",t,r,o,n)}))}(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public},{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}}))}},{key:"emptyBucket",value:function(e){return Ft(this,void 0,void 0,(function*(){try{return{data:yield Et(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}}))}},{key:"deleteBucket",value:function(e){return Ft(this,void 0,void 0,(function*(){try{return{data:yield Pt(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}}))}}])&&Mt(t.prototype,n),r&&Mt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}());function Xt(){return(Xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Vt=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},$t={schema:"public",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,multiTab:!0,headers:o};function Zt(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function en(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Zt(i,r,o,a,s,"next",e)}function s(e){Zt(i,r,o,a,s,"throw",e)}a(void 0)}))}}var tn,nn=new(function(){function e(t,n,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");var i=t.replace(/\/$/,""),a=Xt(Xt({},$t),r);this.restUrl="".concat(i,"/rest/v1"),this.realtimeUrl="".concat(i,"/realtime/v1").replace("http","ws"),this.authUrl="".concat(i,"/auth/v1"),this.storageUrl="".concat(i,"/storage/v1"),this.schema=a.schema,this.multiTab=a.multiTab,this.fetch=a.fetch,this.headers=Xt(Xt({},o),null==r?void 0:r.headers),this.auth=this._initSupabaseAuthClient(a),this.realtime=this._initRealtimeClient(Xt({headers:this.headers},a.realtime)),this._listenForAuthEvents(),this._listenForMultiTabEvents()}var t,n,r;return t=e,(n=[{key:"storage",get:function(){return new Kt(this.storageUrl,this._getAuthHeaders(),this.fetch)}},{key:"from",value:function(e){var t="".concat(this.restUrl,"/").concat(e);return new gt(t,{headers:this._getAuthHeaders(),schema:this.schema,realtime:this.realtime,table:e,fetch:this.fetch})}},{key:"rpc",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.head,o=void 0!==r&&r,i=n.count,a=void 0===i?null:i,s=this._initPostgRESTClient();return s.rpc(e,t,{head:o,count:a})}},{key:"removeAllSubscriptions",value:function(){return Vt(this,void 0,void 0,(function*(){var e=this,t=this.realtime.channels.slice().map((function(t){return e.removeSubscription(t).then((function(){return{status:"fulfilled",value:{error:null}}})).catch((function(e){return{status:"rejected",reason:e}}))}));return Promise.all(t)}))}},{key:"removeSubscription",value:function(e){var t=this;return new Promise((function(n,r){return Vt(t,void 0,void 0,(function*(){var t=(yield this._closeSubscription(e)).error;if(t)return r({error:t});var o=this.getSubscriptions();if(0===o.length){var i=(yield this.realtime.disconnect()).error;if(i)return r({error:i})}var a=o.filter((function(e){return e.isJoined()})).length;return n({data:{openSubscriptions:a},error:null})}))}))}},{key:"_closeSubscription",value:function(e){return Vt(this,void 0,void 0,(function*(){var t=this;return e.isClosed()?new Promise((function(n){return t.realtime.remove(e),n({error:null})})):yield this._closeChannel(e)}))}},{key:"getSubscriptions",value:function(){return this.realtime.channels}},{key:"_initSupabaseAuthClient",value:function(e){var t=e.autoRefreshToken,n=e.persistSession,r=e.detectSessionInUrl,o=e.localStorage,i=e.headers,a=e.fetch,s={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new M({url:this.authUrl,headers:Xt(Xt({},i),s),autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,localStorage:o,fetch:a})}},{key:"_initRealtimeClient",value:function(e){return new ut(this.realtimeUrl,Xt(Xt({},e),{params:Xt(Xt({},null==e?void 0:e.params),{apikey:this.supabaseKey})}))}},{key:"_initPostgRESTClient",value:function(){return new Ce(this.restUrl,{headers:this._getAuthHeaders(),schema:this.schema,fetch:this.fetch})}},{key:"_getAuthHeaders",value:function(){var e,t,n=this.headers,r=null!==(t=null===(e=this.auth.session())||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey;return n.apikey=this.supabaseKey,n.Authorization="Bearer ".concat(r),n}},{key:"_closeChannel",value:function(e){return new Promise((function(t,n){e.unsubscribe().receive("ok",(function(){return t({error:null})})).receive("error",(function(e){return n({error:e})})).receive("timeout",(function(){return n({error:"timed out"})}))}))}},{key:"_listenForMultiTabEvents",value:function(){var e=this;if(!this.multiTab||"undefined"==typeof window||!(null===window||void 0===window?void 0:window.addEventListener))return null;try{return null===window||void 0===window?void 0:window.addEventListener("storage",(function(t){var n,r,o;if("supabase.auth.token"===t.key){var i=JSON.parse(String(t.newValue)),a=null!==(r=null===(n=null==i?void 0:i.currentSession)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,s=null===(o=e.auth.session())||void 0===o?void 0:o.access_token;a?!s&&a?e._handleTokenChanged("SIGNED_IN",a,"STORAGE"):s!==a&&e._handleTokenChanged("TOKEN_REFRESHED",a,"STORAGE"):e._handleTokenChanged("SIGNED_OUT",a,"STORAGE")}}))}catch(e){return console.error("_listenForMultiTabEvents",e),null}}},{key:"_listenForAuthEvents",value:function(){var e=this;return this.auth.onAuthStateChange((function(t,n){e._handleTokenChanged(t,null==n?void 0:n.access_token,"CLIENT")})).data}},{key:"_handleTokenChanged",value:function(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===t?"SIGNED_OUT"!==e&&"USER_DELETED"!==e||(this.removeAllSubscriptions(),"STORAGE"==n&&this.auth.signOut()):(this.realtime.setAuth(t),"STORAGE"==n&&this.auth.setAuth(t),this.changedAccessToken=t)}}])&&Yt(t.prototype,n),r&&Yt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}())("https://gfpdcxinoqcqfzstmffs.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTY0MzM4NzgxMSwiZXhwIjoxOTU4OTYzODExfQ.rzLjpEgAI15oVYcmUjbMTXe7n_3Q37ZTaervX0f4jz0",tn);function rn(e){return on.apply(this,arguments)}function on(){return(on=en((function*(e){return nn.storage.from("i").upload("".concat(e.name,"_").concat((new Date).getTime()),e,{returning:"minimal"})}))).apply(this,arguments)}function an(e){return nn.storage.from("i").getPublicUrl(e).publicURL.replace("/i/i/","/i/")}},DX9r:function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return c}));var o=n("QRet"),i=n("Xqey"),a=n("JimL"),s=n("DIYs");function c(t){var n=t.dispatch,c=Object(o.c)(null);function u(e){var t;e.preventDefault(),e.stopPropagation();var r=((null==e||null===(t=e.dataTransfer)||void 0===t?void 0:t.files)||e.target.files)[0];n({type:"uploading"}),Object(s.b)(r).then((function(e){n({type:"success",image:r,url:e.data.Key})}))}return e(r,null,e("h2",null,"Upload your image"),e("p",null,"File should be jpeg, png..."),e("div",{ref:c,id:i.a.file,onDragOver:function(e){e.preventDefault(),e.stopPropagation()},onDrop:u},e("img",{src:a.a,alt:""}),e("p",null,"Drag and Drop your image here")),e("p",null,"or"),e("label",{id:i.a.upload},"Choose a file",e("input",{type:"file",accept:"image/*",onChange:u})))}}).call(this,n("HteQ").h,n("HteQ").Fragment)},Fndm:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o;if("object"===("undefined"==typeof globalThis?"undefined":r(globalThis)))o=globalThis;else try{o=n("7x+o")}catch(e){}finally{if(o||"undefined"==typeof window||(o=window),!o)throw new Error("Could not determine global this")}var i=o.WebSocket||o.MozWebSocket,a=n("AGXD");function s(e,t){return t?new i(e,t):new i(e)}i&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(e){Object.defineProperty(s,e,{get:function(){return i[e]}})})),e.exports={w3cwebsocket:i?s:null,version:a}},HteQ:function(e,t){e.exports=require("preact")},JimL:function(e,t,n){"use strict";t.a=n.p+"3710b8a35e7e317216bf76a9c717b30a.svg"},QRet:function(e,t,n){"use strict";n.d(t,"d",(function(){return v})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return m}));var r,o,i,a=n("HteQ"),s=0,c=[],u=a.options.__b,l=a.options.__r,h=a.options.diffed,f=a.options.__c,d=a.options.unmount;function p(e,t){a.options.__h&&a.options.__h(o,e,s||t),s=0;var n=o.__H||(o.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function v(e){return s=1,y(S,e)}function y(e,t,n){var i=p(r++,2);return i.t=e,i.__c||(i.__=[n?n(t):S(void 0,t),function(e){var t=i.t(i.__[0],e);i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}))}],i.__c=o),i.__}function b(e,t){var n=p(r++,3);!a.options.__s&&T(n.__H,t)&&(n.__=e,n.__H=t,o.__H.__h.push(n))}function m(e){return s=5,g((function(){return{current:e}}),[])}function g(e,t){var n=p(r++,7);return T(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function _(){for(var e;e=c.shift();)if(e.__P)try{e.__H.__h.forEach(k),e.__H.__h.forEach(O),e.__H.__h=[]}catch(t){e.__H.__h=[],a.options.__e(t,e.__v)}}a.options.__b=function(e){o=null,u&&u(e)},a.options.__r=function(e){l&&l(e),r=0;var t=(o=e.__c).__H;t&&(t.__h.forEach(k),t.__h.forEach(O),t.__h=[])},a.options.diffed=function(e){h&&h(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==c.push(t)&&i===a.options.requestAnimationFrame||((i=a.options.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),w&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);w&&(t=requestAnimationFrame(n))})(_)),o=null},a.options.__c=function(e,t){t.some((function(e){try{e.__h.forEach(k),e.__h=e.__h.filter((function(e){return!e.__||O(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],a.options.__e(n,e.__v)}})),f&&f(e,t)},a.options.unmount=function(e){d&&d(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{k(e)}catch(e){t=e}})),t&&a.options.__e(t,n.__v))};var w="function"==typeof requestAnimationFrame;function k(e){var t=o,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),o=t}function O(e){var t=o;e.__c=e.__(),o=t}function T(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function S(e,t){return"function"==typeof t?t(e):t}},QfWi:function(e,t,n){"use strict";n.r(t);var r=n("HteQ"),o=n("QRet"),i=n("CenE"),a=n("DX9r"),s=n("QrhT"),c=n("bv9D");function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e,t){switch(t.type){case"upload":return f(f({},e),{},{pos:0});case"uploading":return f(f({},e),{},{pos:1});case"success":return f(f({},e),{},{pos:2,img:URL.createObjectURL(t.image),url:t.url});default:return e}},v=function(){var e=u(Object(o.b)(p,{pos:0,img:"",url:""}),2),t=e[0],n=e[1];return Object(r.h)("div",{id:"app"},Object(r.h)(i.a,{dispatch:n,state:t},0==t.pos?Object(r.h)(a.a,null):1==t.pos?Object(r.h)(s.a,null):Object(r.h)(c.a,null)))};t.default=v},QrhT:function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return i}));var o=n("0bRK");function i(){return e(r,null,e("h2",null,"Uploading..."),e("div",{className:o.a.outer},e("div",{className:o.a.inner})))}}).call(this,n("HteQ").h,n("HteQ").Fragment)},SVG2:function(e){e.exports=JSON.parse('{"name":"websocket","description":"Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.","keywords":["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],"author":"Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)","contributors":["Iñaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],"version":"1.0.34","repository":{"type":"git","url":"https://github.com/theturtle32/WebSocket-Node.git"},"homepage":"https://github.com/theturtle32/WebSocket-Node","engines":{"node":">=4.0.0"},"dependencies":{"bufferutil":"^4.0.1","debug":"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2","yaeti":"^0.0.6"},"devDependencies":{"buffer-equal":"^1.0.0","gulp":"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1","jshint":"^2.0.0","tape":"^4.9.1"},"config":{"verbose":false},"scripts":{"test":"tape test/unit/*.js","gulp":"gulp"},"main":"index","directories":{"lib":"./lib"},"browser":"lib/browser.js","license":"Apache-2.0"}')},Xqey:function(e,t,n){"use strict";t.a={file:"file__ysAO2",upload:"upload__qXrox"}},bv9D:function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return u}));var o=n("QRet"),i=n("5pfs"),a=n("DIYs");function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(t){var n=t.state,c=t.dispatch,u=s(Object(o.d)(!1),2),l=u[0],h=u[1];Object(o.a)((function(){l&&setTimeout((function(){h(!1)}),2e3)}),[l]);var f=Object(a.a)(n.url);return e(r,null,e("span",{className:i.a.checkmark,children:"✓"}),e("h2",{children:"Uploaded successfully!"}),e("img",{src:n.img,alt:"",className:i.a.img}),e("div",{className:i.a.copy_box},e("p",null,f),e("button",{onClick:function(){navigator.clipboard.writeText(f),h(!0)},className:l&&i.a.copied,children:l?"Copied":"Copy link"})),e("button",{className:i.a.button,children:"Upload another",onClick:function(){return c({type:"upload"})}}))}}).call(this,n("HteQ").h,n("HteQ").Fragment)},keB9:function(e,t,n){"use strict";t.a={card:"card__A0hIy"}}});
//# sourceMappingURL=ssr-bundle.js.map